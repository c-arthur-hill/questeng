{% extends "base.html" %}

{% block homelink %}active{% endblock %}
{% block title %}YouTalkHere{% endblock %}
{% block header %}You Talk Here{% endblock %}
{% block content %}
<p><i>Practice talking about yourself</i></p>
{% if not_saved_warning %}
<div class="not-saved">
    <h3>This Will Be Lost!</h3>
    <p>
        <a href="{% url 'register_id' conversation_id %}">Register</a> or <a href="{% url 'login_id' conversation_id %}">Login</a> to save your answers.
    </p>
</div>
<br>
{% endif %}
<table>
	{% for message in messages %}
	<tr>
		{% if message.is_user_author %}
            <th class="tr-background-1">Me</th>
            <td class="tr-background-1">{{ message.text }}</th>
		{% else %}
            <th class="tr-background-2">Question</th>
            {% if message.icebreaker %}
                <td class="tr-background-2">{{ message.icebreaker.text }}</td>
            {% else %}
                <td class="tr-background-2">{{ message.text }}</td>
            {% endif %}
		{% endif %}
	</tr>
	{% endfor %}
</table>
<br>
<form action="{% if conversation_id %}{% url 'conversation_id' conversation_id %}{% else %}{% url 'conversation' %}{% endif %}" method="post">
	{% csrf_token %}
	{{ form }}
    <div class="nav">
    <br>
	<input class="submit-button" type="submit" value="ANSWER">
    {% if conversation_id or user.is_authenticated %}
    <a href="{% if conversation_id %}{% url 'different_question_id' conversation_id %}{% else %}{% url 'different_question' %}{% endif %}">Different Question</a>
    <span> | </span>
    {% endif %}
    <a href="{% if conversation_id %}{% url 'different_icebreaker_id' conversation_id %}{% else %}{% url 'different_icebreaker' %}{% endif %}">Random Topic</a>
    </div>
</form>
<br>
{% for topic in topics %}
    <h3>{{ topic.description }}</h3>
    {% for icebreaker in topic.top_icebreakers %}
        <a href="{% url 'icebreaker' icebreaker.id %}">{{ icebreaker.text }}</a><br>
    {% endfor %}
{% endfor %}
{% endblock %}
